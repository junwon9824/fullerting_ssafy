<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36" version="27.2.0">
  <diagram id="full-arch" name="Full Architecture">
    <mxGraphModel dx="1347" dy="849" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="browser" value="Frontend (React + TS)\nPWA / Vite" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#0288D1" parent="1" vertex="1">
          <mxGeometry x="40" y="120" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="nginx" value="Nginx\nSSL / Routing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#FBC02D" parent="1" vertex="1">
          <mxGeometry x="260" y="200" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="jwtfilter" value="JwtValidationFilter\n(Spring Security)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F1F8E9;strokeColor=#8BC34A" parent="1" vertex="1">
          <mxGeometry x="480" y="200" width="180" height="70" as="geometry" />
        </mxCell>
        <mxCell id="backend" value="" style="swimlane;childLayout=stackLayout;html=1;startSize=20;fillColor=#C8E6C9;strokeColor=#43A047" parent="1" vertex="1">
          <mxGeometry x="700" y="360" width="200" height="200" as="geometry" />
        </mxCell>
        <mxCell id="backendLabel" value="Backend\nSpring Boot" style="text;html=1;strokeColor=none;fillColor=none" parent="backend" vertex="1">
          <mxGeometry width="200" height="20" as="geometry" />
        </mxCell>
        <mxCell id="controller" value="Controller" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DCEDC8;strokeColor=#558B2F" parent="backend" vertex="1">
          <mxGeometry y="20" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="service" value="Service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C5E1A5;strokeColor=#33691E" parent="backend" vertex="1">
          <mxGeometry y="80" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="repository" value="Repository" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#AED581;strokeColor=#2E7D32" parent="backend" vertex="1">
          <mxGeometry y="140" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ctrl_srv" style="endArrow=classic" parent="backend" source="controller" target="service" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="srv_repo" style="endArrow=classic" parent="backend" source="service" target="repository" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="wsbroker" value="WebSocket Broker\n(STOMP)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE0B2;strokeColor=#FB8C00" parent="1" vertex="1">
          <mxGeometry x="950" y="490" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="mysql" value="MySQL" style="shape=cylinder3;whiteSpace=wrap;html=1;fillColor=#E0E0E0;strokeColor=#757575" parent="1" vertex="1">
          <mxGeometry x="700" y="720" width="90" height="70" as="geometry" />
        </mxCell>
        <mxCell id="mongo" value="MongoDB\n(Bid Logs)" style="shape=cylinder3;whiteSpace=wrap;html=1;fillColor=#E0E0E0;strokeColor=#757575" parent="1" vertex="1">
          <mxGeometry x="800" y="720" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="redis" value="Redis\n(Cache + Tokens)" style="shape=cylinder3;whiteSpace=wrap;html=1;fillColor=#FFCDD2;strokeColor=#E53935" parent="1" vertex="1">
          <mxGeometry x="930" y="720" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kafka" value="Kafka" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D1C4E9;strokeColor=#673AB7" parent="1" vertex="1">
          <mxGeometry x="1060" y="720" width="100" height="70" as="geometry" />
        </mxCell>
        <mxCell id="s3" value="AWS S3\n(Images)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#B3E5FC;strokeColor=#0288D1" parent="1" vertex="1">
          <mxGeometry x="1180" y="720" width="110" height="70" as="geometry" />
        </mxCell>
        <mxCell id="kakao" value="Kakao Maps API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8BBD0;strokeColor=#AD1457" parent="1" vertex="1">
          <mxGeometry x="40" y="320" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="arrow_bn" style="endArrow=classic" parent="1" source="browser" target="nginx" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_nj" style="endArrow=classic" parent="1" source="nginx" target="jwtfilter" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow_jb" style="endArrow=classic" parent="1" source="jwtfilter" target="controller" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b_mysql" style="endArrow=classic" parent="1" source="service" target="mysql" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b_mongo" style="endArrow=classic" parent="1" source="service" target="mongo" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b_redis" style="endArrow=classic" parent="1" source="service" target="redis" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b_kafka" style="endArrow=classic" parent="1" source="service" target="kafka" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b_s3" style="endArrow=classic" parent="1" source="service" target="s3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="b_ws" style="endArrow=classic" parent="1" source="service" target="wsbroker" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ws_bro" style="dashed=1;endArrow=open" parent="1" source="wsbroker" target="browser" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="browser_kakao" style="dashed=1;endArrow=open" parent="1" source="browser" target="kakao" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="token_note" value="Access / Refresh Tokens" style="note;fillColor=#FFF;strokeColor=#000" parent="1" vertex="1">
          <mxGeometry x="600" y="120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="redis_token" style="dashed=1;endArrow=open" parent="1" source="redis" target="jwtfilter" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
