# ğŸŒ¿ í’€ëŸ¬íŒ… (Fullerting)

<div align="center">
  <img src="./img/etc/í’€ëŸ¬íŒ….png" width="300"/>
  
  **ë„ì‹œë†ë¶€ë¥¼ ìœ„í•œ ì‘ë¬¼ ê±°ë˜ ë° ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼**
  
  [![React](https://img.shields.io/badge/React-18.2.0-61DAFB?logo=react)](https://reactjs.org/)
  [![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.3-6DB33F?logo=spring-boot)](https://spring.io/projects/spring-boot)
  [![TypeScript](https://img.shields.io/badge/TypeScript-5.2.2-3178C6?logo=typescript)](https://www.typescriptlang.org/)
  [![Docker](https://img.shields.io/badge/Docker-20.10+-2496ED?logo=docker)](https://www.docker.com/)
  [![Jenkins](https://img.shields.io/badge/Jenkins-CI/CD-D24939?logo=jenkins)](https://jenkins.io/)
</div>

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ì„¤ì¹˜ ë° ì‹¤í–‰](#-ì„¤ì¹˜-ë°-ì‹¤í–‰)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [íŒ€ì› ì†Œê°œ](#-íŒ€ì›-ì†Œê°œ)
- [í˜‘ì—… ë„êµ¬](#-í˜‘ì—…-ë„êµ¬)
- [JWT í† í° ê°±ì‹  ì •ì±…](#-jwt-í† í°-ê°±ì‹ -ì •ì±…)

## ğŸŒŸ í”„ë¡œì íŠ¸ ì†Œê°œ

**í’€ëŸ¬íŒ…**ì€ ë„ì‹œë†ë¶€ë“¤ì´ ìì‹ ì´ ê¸°ë¥¸ ì‘ë¬¼ì„ ê±°ë˜í•˜ê³ , ì¬ë°° ê²½í—˜ì„ ê³µìœ í•  ìˆ˜ ìˆëŠ” ì¢…í•© í”Œë«í¼ì…ë‹ˆë‹¤. 

### í•µì‹¬ ê°€ì¹˜
- ğŸ¥¬ **ì‹ ì„ í•œ ì‘ë¬¼ ê±°ë˜**: ë™ë„¤ ì¸ì¦ì„ í†µí•œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì‘ë¬¼ ê±°ë˜
- ğŸ“ **ì‘ë¬¼ ì¬ë°° ê¸°ë¡**: AI ê¸°ë°˜ ì‘ë¬¼ ì¸ì‹ê³¼ í•¨ê»˜í•˜ëŠ” ìŠ¤ë§ˆíŠ¸ ì¬ë°° ì¼ì§€
- ğŸ‘¥ **ì»¤ë®¤ë‹ˆí‹°**: ë†ì‘ë¬¼ ì¬ë°° ê²½í—˜ê³¼ ê¿€íŒ ê³µìœ 
- ğŸ¡ **í…ƒë°­ ì •ë³´**: ì§€ì—­ë³„ í…ƒë°­ ìœ„ì¹˜ ë° ì •ë³´ ì œê³µ

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### ğŸ“± ë©”ì¸í™”ë©´

<div align="center">
  <img src="./img/main/ë©”ì¸í™”ë©´.jpg" width="200" height="420"/>
  <img src="./img/main/ì•Œë¦¼í™•ì¸.jpg" width="200" height="420"/>
</div>

- í™ˆ, ì‘ë¬¼ê±°ë˜, ì»¤ë®¤ë‹ˆí‹°, ì‘ë¬¼ì¼ì§€, ë§ˆì´í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜
- ì‹¤ì‹œê°„ ì•Œë¦¼ ë° ì±„íŒ… ê¸°ëŠ¥
- PWA ì§€ì›ìœ¼ë¡œ ì•±ê³¼ ê°™ì€ ì‚¬ìš©ì ê²½í—˜

### ğŸ¥¬ ì‘ë¬¼ê±°ë˜

#### ë™ë„¤ì¸ì¦
<div align="center">
  <img src="./img/trade/í˜„ì¬ìœ„ì¹˜.jpg" width="200" height="420"/>
  <img src="./img/trade/ì£¼ì†Œì¸ì¦.jpg" width="200" height="420"/>
</div>

#### ê±°ë˜ ì‹œìŠ¤í…œ
<div align="center">
  <img src="./img/trade/ê±°ë˜.jpg" width="200" height="420"/>
  <img src="./img/trade/ì‘ë¬¼ê±°ë˜ìƒì„±.jpg" width="200" height="420"/>
</div>

#### ì œì•ˆ ì‹œìŠ¤í…œ
<div align="center">
  <img src="./img/trade/ê±°ë˜ì œì•ˆëª©ë¡.jpg" width="200" height="420"/>
  <img src="./img/trade/ê±°ë˜ì œì•ˆ.jpg" width="200" height="420"/>
</div>

#### ì‹¤ì‹œê°„ ì±„íŒ…
<div align="center">
  <img src="./img/trade/ì±„íŒ…ëª©ë¡.jpg" width="200" height="420"/>
  <img src="./img/trade/ì±„íŒ….jpg" width="200" height="420"/>
</div>

**íŠ¹ì§•:**
- GPS ê¸°ë°˜ ë™ë„¤ ì¸ì¦ ì‹œìŠ¤í…œ
- ì¼ë°˜ê±°ë˜ ë° ì œì•ˆê±°ë˜ ë°©ì‹ ì§€ì›
- WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì±„íŒ…
- ê±°ë˜ ì™„ë£Œ ìë™ ì²˜ë¦¬

### ğŸ“ ì‘ë¬¼ì¼ì§€

#### ì‘ë¬¼ ê´€ë¦¬
<div align="center">
  <img src="./img/diary/ì‘ë¬¼ì¼ì§€.jpg" width="200" height="420"/>
  <img src="./img/diary/ì‘ë¬¼ì¼ì§€ìƒì„±.jpg" width="200" height="420"/>
</div>

#### ì¼ê¸° ì‘ì„±
<div align="center">
  <img src="./img/diary/ì‘ë¬¼ì¼ê¸°.jpg" width="200" height="420"/>
  <img src="./img/diary/ë‹¤ì´ì–´ë¦¬ìƒì„¸.jpg" width="200" height="420"/>
  <img src="./img/diary/ì‘ë¬¼ê¿€íŒ.jpg" width="200" height="420"/>
</div>

#### AI ì‘ë¬¼ ì¸ì‹
<div align="center">
  <img src="./img/diary/ì‘ë¬¼ì¼ì§€ìˆ˜í™•.jpg" width="200" height="420"/>
  <img src="./img/diary/ì‘ë¬¼ì¼ê¸°ìˆ˜í™•2.jpg" width="200" height="420"/>
</div>

**íŠ¹ì§•:**
- TensorFlow ê¸°ë°˜ ì‘ë¬¼ ì¸ì‹ AI
- ìƒìœ¡ ë‹¨ê³„ë³„ ìë™ ë¶„ë¥˜
- ìˆ˜í™• ì™„ë£Œ ì‹œ ë±ƒì§€ íšë“ ì‹œìŠ¤í…œ
- ì‘ë¬¼ë³„ ë§ì¶¤ ì¬ë°° íŒ ì œê³µ

### ğŸ‘¥ ì»¤ë®¤ë‹ˆí‹°

<div align="center">
  <img src="./img/community/ì»¤ë®¤ë‹ˆí‹°.jpg" width="200" height="420"/>
  <img src="./img/community/ì»¤ë®¤ë‹ˆí‹°ìƒì„¸.jpg" width="200" height="420"/>
  <img src="./img/community/ì»¤ë®¤ë‹ˆí‹°ëŒ“ê¸€.jpg" width="200" height="420"/>
</div>

**ì¹´í…Œê³ ë¦¬:**
- ììœ ê²Œì‹œíŒ
- ì‘ë¬¼ì†Œê°œ
- ê¿€íŒê³µìœ 
- í…ƒë°­ìš”ë¦¬

### ğŸ¡ í…ƒë°­ì •ë³´

<div align="center">
  <img src="./img/farm/í…ƒë°­ì§€ë„.jpg" width="200" height="420"/>
  <img src="./img/farm/í…ƒë°­ìƒì„¸.jpg" width="200" height="420"/>
</div>

- ì¹´ì¹´ì˜¤ë§µ API ê¸°ë°˜ í…ƒë°­ ìœ„ì¹˜ ì •ë³´
- ì§€ì—­ë³„ í…ƒë°­ ìƒì„¸ ì •ë³´ ì œê³µ

### ğŸ‘¤ ë§ˆì´í˜ì´ì§€

<div align="center">
  <img src="./img/mypage/í”„ë¡œí•„.jpg" width="200" height="420"/>
  <img src="./img/mypage/ë±ƒì§€ì •ë³´.jpg" width="200" height="420"/>
  <img src="./img/mypage/ë‚˜ì˜ì œì•ˆëª©ë¡.jpg" width="200" height="420"/>
</div>

**ê¸°ëŠ¥:**
- í”„ë¡œí•„ ê´€ë¦¬
- ë±ƒì§€ ì»¬ë ‰ì…˜
- ê±°ë˜ ë‚´ì—­ ê´€ë¦¬
- ê´€ì‹¬ ê²Œì‹œê¸€ ê´€ë¦¬

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| React | 18.2.0 | UI ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| TypeScript | 5.2.2 | íƒ€ì… ì•ˆì •ì„± |
| Vite | 5.1.6 | ë¹Œë“œ ë„êµ¬ |
| Styled Components | 6.1.8 | CSS-in-JS |
| Jotai | 2.7.0 | ìƒíƒœ ê´€ë¦¬ |
| TanStack Query | 5.28.6 | ì„œë²„ ìƒíƒœ ê´€ë¦¬ |
| React Router DOM | 6.22.3 | ë¼ìš°íŒ… |
| React Kakao Maps SDK | 1.1.26 | ì§€ë„ ì„œë¹„ìŠ¤ |
| StompJS | 7.0.0 | WebSocket í†µì‹  |

### Backend
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Spring Boot | 3.2.3 | ì›¹ í”„ë ˆì„ì›Œí¬ |
| Spring Security | - | ì¸ì¦/ì¸ê°€ |
| Spring Data JPA | - | ORM |
| Spring WebSocket | - | ì‹¤ì‹œê°„ í†µì‹  |
| Spring Kafka | - | ë©”ì‹œì§€ í |
| JWT | 0.11.5 | í† í° ì¸ì¦ |
| MySQL | - | ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ |
| Redis | - | ìºì‹œ/ì„¸ì…˜ |
| MongoDB | - | ì±„íŒ… ë¡œê·¸ |
| QueryDSL | 5.0.0 | ë™ì  ì¿¼ë¦¬ |

### AI/ML
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| TensorFlow | 2.13.0 | ë”¥ëŸ¬ë‹ í”„ë ˆì„ì›Œí¬ |
| Keras | 2.13.1 | ê³ ìˆ˜ì¤€ API |
| Django | 4.2.11 | AI ì„œë²„ |
| Teachable Machine | - | ëª¨ë¸ í•™ìŠµ |

### DevOps
| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| Docker | ì»¨í…Œì´ë„ˆí™” |
| Docker Compose | ë©€í‹° ì»¨í…Œì´ë„ˆ ê´€ë¦¬ |
| Jenkins | CI/CD |
| Nginx | ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ |
| AWS | í´ë¼ìš°ë“œ ì¸í”„ë¼ |

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

<div align="center">
  <img src="./ì•„í‚¤í…ì³.drawio.png" alt="System Architecture" width="800"/>
</div>

### ì•„í‚¤í…ì²˜ íŠ¹ì§•
- **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤**: Frontend, Backend, AI ì„œë²„ ë¶„ë¦¬
- **ì‹¤ì‹œê°„ í†µì‹ **: WebSocket + Kafka ì¡°í•©
- **ìŠ¤ì¼€ì¼ë§**: Docker ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ìˆ˜í‰ í™•ì¥
- **ë³´ì•ˆ**: JWT + OAuth2 ì¸ì¦ ì‹œìŠ¤í…œ
- **ëª¨ë‹ˆí„°ë§**: Jenkins CI/CD íŒŒì´í”„ë¼ì¸

### ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ ì„¤ê³„

#### Kafka + Redis ì—­í•  ë¶„ë¦¬
- **Kafka**: ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì „ì†¡ ë° ì•Œë¦¼
  - ì…ì°° ë°œìƒ ì‹œ ì¦‰ì‹œ Kafkaë¡œ ë©”ì‹œì§€ ì „ì†¡
  - WebSocketì„ í†µí•´ ì‹¤ì‹œê°„ í™”ë©´ ì—…ë°ì´íŠ¸
  - íŒŒí‹°ì…˜ í‚¤ë¥¼ ì‚¬ìš©í•œ ë©”ì‹œì§€ ìˆœì„œ ë³´ì¥

- **Redis**: ìƒíƒœ ìºì‹œ ë° ë¹ ë¥¸ ì¡°íšŒ
  - ê²½ë§¤ ìƒíƒœ(í˜„ì¬ê°€, ìµœê³ ì…ì°°ì) ìºì‹±
  - ì¡°íšŒ ì‹œ DB ë¶€í•˜ ê°ì†Œ
  - 1ì‹œê°„ ë§Œë£Œ ì‹œê°„ìœ¼ë¡œ ë©”ëª¨ë¦¬ ê´€ë¦¬

#### MongoDB: ì…ì°° ë¡œê·¸ ì¥ê¸° ë³´ì¡´ & í†µê³„
- **Bid Log ì˜ì† ì €ì¥**: BidService ê°€ ì…ì°° ë°œìƒ ì‹œ `MongoTemplate.save()` ë¡œ `bidLog` ì»¬ë ‰ì…˜ì— ë™ì‹œì— ì €ì¥(upsert).  
- **ì§‘ê³„ ì¿¼ë¦¬**: `BidRepositoryCustomImpl` ì˜ Aggregation íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ì‚¬ìš©ì í†µê³„ ë“± ê³„ì‚°.  
- **Schema-less**: ìƒˆë¡œìš´ í•„ë“œ ì¶”ê°€ ì‹œ í…Œì´ë¸” ë³€ê²½ ì—†ì´ ë°”ë¡œ ë°˜ì˜.

##### Redis í•´ì‹œ êµ¬ì¡° ì˜ˆì‹œ (auction:<ê²½ë§¤ê¸€ID>)
```bash
# ì˜ˆ) ê²½ë§¤ê¸€ ID = 3
127.0.0.1:6379> HGETALL auction:3
1) "currentPrice"  # í˜„ì¬ ìµœê³ ê°€
2) "8"
3) "bidLogId"      # í•´ë‹¹ ì…ì°° ë¡œê·¸(MongoDB) ID
4) "7"
5) "topBidderId"   # ìµœê³  ì…ì°°ì(ì‚¬ìš©ì) ID
6) "2"
```
> BidService ì—ì„œ ì…ì°°ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ìœ„ í•´ì‹œë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤. í”„ë¡ íŠ¸ì—”ë“œÂ·ë°±ì—”ë“œëŠ” `HGETALL` ë˜ëŠ” `HVALS` ëª…ë ¹ìœ¼ë¡œ ê°’ì„ ì½ì–´ ë°°ì—´ë¡œ ë³€í™˜í•´ í™”ë©´ì„ ì¦‰ì‹œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

##### Redis ì…ì°° ë¡œê·¸ ë¦¬ìŠ¤íŠ¸ ì˜ˆì‹œ (auction:<ê²½ë§¤ê¸€ID>:logs)
```bash
LRANGE auction:3:logs 0 2   # ìµœì‹  3ê±´ ì¡°íšŒ
1) "{\"bidLogId\":7,\"userId\":2,\"price\":8000, ... }"
2) "{\"bidLogId\":6,\"userId\":5,\"price\":7500, ... }"
3) "{\"bidLogId\":5,\"userId\":9,\"price\":7000, ... }"
```
> ë‘ í‚¤ëŠ” **ë…ë¦½ì **ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ì…ì°° ë°œìƒ ì‹œ ì„œë¹„ìŠ¤ê°€ Hash ì™€ List ë¥¼ í•¨ê»˜ ê°±ì‹ í•˜ì§€ë§Œ, Redis ê´€ì ì—ì„œëŠ” ë³„ë„ ì—”íŠ¸ë¦¬ì´ë¯€ë¡œ ë§Œë£Œì‹œê°„/ì‚­ì œë¥¼ ê°œë³„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Hash ëŠ” í˜„ì¬ ìƒíƒœ(O(1) ì¡°íšŒ) , List ëŠ” ìµœê·¼ ë¡œê·¸ ìŠ¤íŠ¸ë¦¼(ìµœëŒ€ 50ê°œ) ì—­í• ì„ í•©ë‹ˆë‹¤.

#### ì…ì°° í˜„í™© ì¡°íšŒ ë™ì‘
- **bidLogController.selectbid()** ë¡œì§
  1. `auction:{id}:logs` **Redis List** ì—ì„œ ìµœê·¼ ì…ì°° ë¡œê·¸ ì¡°íšŒ â†’ ìˆìœ¼ë©´ ë°”ë¡œ ì‘ë‹µ
  2. ë¹„ì–´ ìˆì„ ê²½ìš° `bidService.selectbid()` í˜¸ì¶œ â†’ (ìºì‹œ í•´ì‹œ or DB) ì¡°íšŒ í›„ ê²°ê³¼ ë°˜í™˜
- **ê²½ë§¤ê¸€(ì‘ë¬¼) ìƒì„¸ í˜ì´ì§€ì— ì§„ì…í•˜ë©´**
  - í”„ë¡ íŠ¸ì—”ë“œê°€ selectbid API í˜¸ì¶œ
  - Controller ë‹¨ê³„ì—ì„œ Redis List ìºì‹œ íˆíŠ¸ ì‹œ ì¦‰ì‹œ ë°˜í™˜->í™”ë©´ì— ë Œë”ë§
  - ë¯¸ìŠ¤ì¼ ê²½ìš° Service ë‹¨ê³„ì—ì„œ Hash/DB ì¡°íšŒ í›„ ê²°ê³¼ ì €ì¥Â·ë°˜í™˜
  - ê²°êµ­ "ë Œë”ë§í•˜ë©´ ë°”ë¡œ ë³´ì´ëŠ” ì…ì°° ì •ë³´"ê°€ ìºì‹œ ë¯¸ìŠ¤ ì—†ëŠ” í•œ <100ms ë‚´ ì‘ë‹µ

#### ë™ì‘ íë¦„
```
ì…ì°° ë°œìƒ ì‹œ:
1. DBì— ì…ì°° ê¸°ë¡ ì €ì¥
2. Redisì— ìƒíƒœ ìºì‹œ ì €ì¥ (ì¡°íšŒìš©)
3. MongoDBì— ì…ì°° ë¡œê·¸ ì˜ì† ì €ì¥ (í†µê³„ìš©)
4. Kafkaë¡œ ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì „ì†¡ (ì•Œë¦¼ìš©)

ì¡°íšŒ ì‹œ:
1. Redisì—ì„œ ìƒíƒœ ìš°ì„  ì¡°íšŒ (ë¹ ë¥¸ ì‘ë‹µ)
2. ì—†ìœ¼ë©´ DBì—ì„œ ì¡°íšŒ

ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œ:
1. Kafka ë©”ì‹œì§€ë¡œ WebSocket ì „ì†¡
2. í™”ë©´ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
```

#### ê¸°ìˆ ì  ì¥ì 
- **ì„±ëŠ¥ ìµœì í™”**: Redis ìºì‹œë¡œ ë¹ ë¥¸ ì¡°íšŒ
- **ì‹¤ì‹œê°„ì„±**: Kafka + WebSocketìœ¼ë¡œ ì¦‰ì‹œ ì•Œë¦¼
- **í™•ì¥ì„±**: ê°ê° ë…ë¦½ì ìœ¼ë¡œ ìŠ¤ì¼€ì¼ë§ ê°€ëŠ¥
- **ì•ˆì •ì„±**: ë©”ì‹œì§€ ìˆœì„œ ë³´ì¥ ë° ì¥ì•  ë³µêµ¬

## ğŸš‘ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… â€“ Redis ìºì‹œ ì—­ì§ë ¬í™” ì´ìŠˆ
| ì¦ìƒ | ì›ì¸ | í•´ê²° |
|------|------|------|
| Redisì—ì„œ ì¡°íšŒí•œ ë°ì´í„°ë¥¼ BidLogResponseë¡œ ìºìŠ¤íŒ…í•  ë•Œ ClassCastException ë°œìƒ | Redisì— ì €ì¥ëœ ë°ì´í„°ê°€ String(JSON) í˜•ì‹ì¸ë°, ì´ë¥¼ ì§ì ‘ BidLogResponseë¡œ ìºìŠ¤íŒ…í•˜ë ¤ê³  í•´ì„œ ë°œìƒ | Redisì—ì„œ ì¡°íšŒí•œ ë°ì´í„°ì˜ íƒ€ì…ì„ í™•ì¸í•˜ê³ , Stringì¸ ê²½ìš° ObjectMapperë¥¼ ì‚¬ìš©í•˜ì—¬ ì—­ì§ë ¬í™”í•˜ë„ë¡ ìˆ˜ì • |

```java
return redisList.stream()
    .map(obj -> {
        if (obj instanceof LinkedHashMap) {
            return objectMapper.convertValue(obj, BidLogResponse.class);
        } else if (obj instanceof String) {
            try {
                return objectMapper.readValue((String) obj, BidLogResponse.class);
            } catch (Exception e) {
                throw new RuntimeException("Redis ìºì‹œ ì—­ì§ë ¬í™” ì‹¤íŒ¨", e);
            }
        } else {
            throw new RuntimeException("ì•Œ ìˆ˜ ì—†ëŠ” ìºì‹œ íƒ€ì…: " + obj.getClass());
        }
    })
    .collect(Collectors.toList());
```

### ğŸš‘ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… â€“ Redis ìºì‹œ ì—­ì§ë ¬í™” ì´ìŠˆ
| ì¦ìƒ | ì›ì¸ | í•´ê²° |
|------|------|------|
| Redisì—ì„œ ì¡°íšŒí•œ ë°ì´í„°ë¥¼ BidLogResponseë¡œ ë³€í™˜ ì‹œ ClassCastException ë°œìƒ | RedisTemplateì´ ë‹¤ë¥¸ ì„¤ì •ìœ¼ë¡œ ì¸í•´ String ë˜ëŠ” LinkedHashMapìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŒ | ë°ì´í„° íƒ€ì…ì„ í™•ì¸í•˜ê³  ê°ê°ì— ë§ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë¡œì§ ì¶”ê°€ |

**í•´ê²° ë°©ë²•:**
1. Redisì—ì„œ ì¡°íšŒí•œ ë°ì´í„°ì˜ íƒ€ì…ì„ í™•ì¸
2. LinkedHashMapì¸ ê²½ìš°: `objectMapper.convertValue()` ì‚¬ìš©
3. String(JSON)ì¸ ê²½ìš°: `objectMapper.readValue()`ë¡œ ì—­ì§ë ¬í™”
4. ê·¸ ì™¸ íƒ€ì…ì€ ì˜ˆì™¸ ì²˜ë¦¬

**ì°¸ê³  ì½”ë“œ:**
```java
return redisList.stream()
    .map(obj -> {
        if (obj instanceof LinkedHashMap) {
            return objectMapper.convertValue(obj, BidLogResponse.class);
        } else if (obj instanceof String) {
            try {
                return objectMapper.readValue((String) obj, BidLogResponse.class);
            } catch (Exception e) {
                throw new RuntimeException("Redis ìºì‹œ ì—­ì§ë ¬í™” ì‹¤íŒ¨", e);
            }
        } else {
            throw new RuntimeException("ì•Œ ìˆ˜ ì—†ëŠ” ìºì‹œ íƒ€ì…: " + obj.getClass());
        }
    })
    .collect(Collectors.toList());
```

**ì›ì¸ ë¶„ì„:**
- RedisTemplateì˜ ê¸°ë³¸ ì§ë ¬í™”/ì—­ì§ë ¬í™” ì„¤ì •ì— ë”°ë¼ ë°ì´í„°ê°€ ë‹¤ë¥´ê²Œ ì €ì¥/ì¡°íšŒë  ìˆ˜ ìˆìŒ
- StringRedisTemplateì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° Stringìœ¼ë¡œ, RedisTemplateì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ê°ì²´ë¡œ ì €ì¥ë¨
- ë‘ ê°€ì§€ ê²½ìš°ë¥¼ ëª¨ë‘ ì²˜ë¦¬í•´ì•¼ ì•ˆì •ì ì¸ ë™ì‘ì´ ê°€ëŠ¥

## ğŸš€ Redis ìºì‹± ì „ëµ

### 1. ìºì‹œ êµ¬ì¡°
- **ê²½ë§¤ ìš”ì•½ ì •ë³´ (Hash)**: `auction:{articleId}`
  - `bidLogId`: ë§ˆì§€ë§‰ ì…ì°° ID
  - `topBidderId`: ìµœê³  ì…ì°°ì ID
  - `currentPrice`: í˜„ì¬ ìµœê³ ê°€

- **ì…ì°° ë¡œê·¸ (List)**: `auction:{articleId}:logs`
  - ìµœëŒ€ 50ê°œ í•­ëª© ìœ ì§€
  - 1ì‹œê°„ TTL ì„¤ì •

### 2. ìºì‹œ ì—…ë°ì´íŠ¸ ì „ëµ
- **ì“°ê¸° ì‹œ (ì…ì°° ì œì•ˆ)**:
  1. DBì— ì…ì°° ê¸°ë¡ ì €ì¥
  2. Redis ìºì‹œ ì—…ë°ì´íŠ¸
     - ê²½ë§¤ ìš”ì•½ ì •ë³´ ê°±ì‹ 
     - ì…ì°° ë¡œê·¸ ë¦¬ìŠ¤íŠ¸ì— ìƒˆ ì…ì°° ì¶”ê°€ (ìµœëŒ€ 50ê°œ ìœ ì§€)
  3. MongoDBì— ë°±ì—… ì €ì¥

- **ì½ê¸° ì‹œ (ì…ì°° ì¡°íšŒ)**:
  1. Redis ìºì‹œì—ì„œ ì¡°íšŒ ì‹œë„
  2. ìºì‹œ ë¯¸ìŠ¤ ì‹œ DBì—ì„œ ì¡°íšŒ í›„ ë°˜í™˜ (ì“°ê¸° ì‹œ ìºì‹œê°€ ì—…ë°ì´íŠ¸ë˜ë¯€ë¡œ ë³„ë„ ìºì‹œ ê°±ì‹  X)

### 3. TTL (Time To Live)
- ëª¨ë“  ìºì‹œ í•­ëª©ì€ 24ì‹œê°„ í›„ ë§Œë£Œ
- ìì£¼ ì ‘ê·¼í•˜ëŠ” í•­ëª©ì€ ë§Œë£Œ ì‹œê°„ì´ ìë™ìœ¼ë¡œ ê°±ì‹ ë¨

### 4. ì¼ê´€ì„± ë³´ì¥
- ëª¨ë“  ì“°ê¸° ì‘ì—…ì€ DBì™€ Redisë¥¼ ë™ì‹œì— ì—…ë°ì´íŠ¸í•˜ì—¬ ì¼ê´€ì„± ìœ ì§€
- Redis ì˜¤ë¥˜ ì‹œì—ë„ DBì—ì„œ ì •ìƒ ì‘ë™í•˜ë„ë¡ ì˜ˆì™¸ ì²˜ë¦¬

### 5. ì„±ëŠ¥ ìµœì í™”
- ìµœëŒ€ 50ê°œì˜ ìµœê·¼ ì…ì°° ë¡œê·¸ë§Œ ìºì‹œí•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì œí•œ
- ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹œ ìºì‹œ ìš°ì„  ì¡°íšŒë¡œ DB ë¶€í•˜ ê°ì†Œ

## ğŸ” JWT í† í° ê°±ì‹  ì •ì±…

| êµ¬ë¶„ | ë‚´ìš© |
|------|------|
| Access Token | ìœ íš¨ê¸°ê°„ ì§§ìŒ(15 min). ëª¨ë“  API ìš”ì²­ ì‹œ `Authorization: Bearer <access>` í—¤ë”ë¡œ ì „ì†¡ |
| Refresh Token | ìœ íš¨ê¸°ê°„ ê¹€(14 days). ìµœì´ˆ ë¡œê·¸ì¸ ì‹œ Redis ì— ì €ì¥, Cookie/SessionStorage ì— ë³´ê´€ |

1. **ìš”ì²­ íë¦„**
   1) í´ë¼ì´ì–¸íŠ¸ê°€ API í˜¸ì¶œ â†’ `JwtValidationFilter` ì—ì„œ accessToken ê²€ì¦.
   2) ë§Œë£Œ(401) â†’ í”„ë¡ íŠ¸ Axios ì¸í„°ì…‰í„°ê°€ `/v1/auth/refresh` POST `{ refreshToken }` í˜¸ì¶œ.

2. **`TokenService.reIssueAccessTokenByRefreshToken()`**
   - refreshToken ì„œëª…Â·ë§Œë£Œ ê²€ì¦ â†’ `jwtUtils.validateRefreshToken()`
   - Claim ì—ì„œ `userId` ì¶”ì¶œ â†’ Redis ì˜ ì €ì¥ê°’ê³¼ ì¼ì¹˜ ì—¬ë¶€ í™•ì¸.
   - ì¼ì¹˜í•  ê²½ìš° **Refresh-Token Rotation** ìˆ˜í–‰:
     ```java
     String newAccess = jwtUtils.issueAccessToken(email, userId, authorities);
     String newRefresh = jwtUtils.issueRefreshToken(email, userId, authorities);
     tokenRepository.save(new Token(userId, newRefresh));          // Redis ê°±ì‹ 
     invalidTokenRepository.save(new InvalidToken(null, oldRefresh)); // êµ¬ RT íê¸°
     return new IssuedToken(newAccess, newRefresh);
     ```
   - ë¶ˆì¼ì¹˜ â†’ `JwtException(JwtErrorCode.INVALID_TOKEN)` ë°˜í™˜.

3. **ë³´ì•ˆ íš¨ê³¼**
   - íƒˆì·¨ëœ refreshToken ì¬ì‚¬ìš© ì‹œë„ â†’ Redis ë¶ˆì¼ì¹˜ë¡œ ì¦‰ì‹œ ì°¨ë‹¨.
   - ì´ì „ í† í°ì€ ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²˜ë¦¬í•˜ì—¬ ì¼íšŒì„± ë³´ì¥.

## ğŸ“š API ëª©ë¡

### ì‚¬ìš©ì ì¸ì¦
```
POST   /v1/auth/login           # ë¡œê·¸ì¸
POST   /v1/auth/refresh        # í† í° ì¬ë°œê¸‰
POST   /v1/auth/register       # íšŒì›ê°€ì…
```

### ì‚¬ìš©ì ì •ë³´
```
GET    /v1/users/me            # ë‚´ ì •ë³´ ì¡°íšŒ
PATCH  /v1/users               # ë‚´ ì •ë³´ ìˆ˜ì •
PATCH  /v1/users/town          # ë™ë„¤ ì •ë³´ ìˆ˜ì •
POST   /v1/users/upload        # í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ
```

### ê²½ë§¤/ê±°ë˜
```
# ê²½ë§¤ ì…ì°°
POST   /v1/exchanges/{ex_article_id}/bid      # ì…ì°° ì œì•ˆ
GET    /v1/exchanges/bid-logs/{ex_article_id} # ì…ì°° ë‚´ì—­ ì¡°íšŒ

# ì¼ë°˜ ê±°ë˜
GET    /v1/exchanges/category/share          # ë‚˜ëˆ” ëª©ë¡ ì¡°íšŒ
GET    /v1/exchanges/category/trans          # ì¼ë°˜ ê±°ë˜ ëª©ë¡ ì¡°íšŒ
GET    /v1/exchanges/category/my/trans       # ë‚´ ê±°ë˜ ëª©ë¡ ì¡°íšŒ

# ê²½ë§¤/ê±°ë˜ ê³µí†µ
POST   /v1/exchanges                        # ê²Œì‹œê¸€ ë“±ë¡
GET    /v1/exchanges/{id}                   # ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ
GET    /v1/exchanges/category/deal          # ì œì•ˆ ì¹´í…Œê³ ë¦¬ ì¡°íšŒ
GET    /v1/exchanges/wrotearticles          # ë‚´ê°€ ì‘ì„±í•œ ê²Œì‹œë¬¼ ì¡°íšŒ
```

### ì‘ë¬¼ ì¼ì§€
```
# ì‘ë¬¼ ì¼ì§€ íŒ©
GET    /v1/pack-diaries                     # ì‘ë¬¼ ì¼ì§€ íŒ© ëª©ë¡
POST   /v1/pack-diaries                     # ì‘ë¬¼ ì¼ì§€ íŒ© ìƒì„±
GET    /v1/pack-diaries/{id}                # ì‘ë¬¼ ì¼ì§€ íŒ© ìƒì„¸

# ì‘ë¬¼ ì¼ì§€
GET    /v1/diaries/{pack_diary_id}          # ì‘ë¬¼ ì¼ì§€ ëª©ë¡
GET    /v1/diaries/detail/{diary_id}        # ì‘ë¬¼ ì¼ì§€ ìƒì„¸
POST   /v1/diaries/{pack_diary_id}          # ì‘ë¬¼ ì¼ì§€ ìƒì„±
POST   /v1/diaries/{pack_diary_id}/water    # ë¬¼ì£¼ê¸°
```

### ì»¤ë®¤ë‹ˆí‹°
```
# ê²Œì‹œê¸€
GET    /v1/articles                   # ê²Œì‹œê¸€ ëª©ë¡
POST   /v1/articles                   # ê²Œì‹œê¸€ ì‘ì„±
GET    /v1/articles/{id}              # ê²Œì‹œê¸€ ìƒì„¸

# ëŒ“ê¸€
POST   /v1/articles/{article_id}/comments          # ëŒ“ê¸€ ì‘ì„±
GET    /v1/articles/{article_id}/comments/all      # ëŒ“ê¸€ ëª©ë¡
DELETE /v1/articles/{article_id}/comments/{comment_id}  # ëŒ“ê¸€ ì‚­ì œ

# ì¢‹ì•„ìš”
POST   /v1/articles/{article_id}/like   # ì¢‹ì•„ìš” í† ê¸€
```

### ì±„íŒ…
```
GET    /v1/chat-room                   # ì±„íŒ…ë°© ëª©ë¡
POST   /v1/chat-room                   # ì±„íŒ…ë°© ìƒì„±
GET    /v1/chat-room/{chat_room_id}    # ì±„íŒ…ë°© ìƒì„¸
```

### ì•Œë¦¼
```
GET    /v1/noti/pub     # SSE êµ¬ë… (text/event-stream)
```

### ê¸°íƒ€
```
GET    /v1/crop-types          # ì‘ë¬¼ ì¢…ë¥˜ ì¡°íšŒ
GET    /v1/crop-tips/{crop_type_id}    # ì‘ë¬¼ë³„ ì¬ë°° íŒ ì¡°íšŒ
GET    /v1/farms/search?region={region} # í…ƒë°­ ì •ë³´ ì¡°íšŒ
POST   /v1/file/uploadFile     # íŒŒì¼ ì—…ë¡œë“œ
```

## ğŸ‘¥ íŒ€ì› ì†Œê°œ

| ì´ë¦„ | ì—­í•  | ë‹´ë‹¹ ì˜ì—­ | ê¸°ìˆ  ìŠ¤íƒ |
|------|------|-----------|-----------|
| **ê¹€ì§„ëª…** (íŒ€ì¥) | Backend | íšŒì›, ë§ˆì´í˜ì´ì§€, ì•Œë¦¼ | Spring Boot, Spring Security, JWT |
| **ë¬¸í˜œë¦°** | Backend | ì‘ë¬¼ì¼ì§€, í…ƒë°­ì •ë³´, ì±„íŒ… | Spring WebSocket, Kafka, MongoDB |
| **ì •ì¤€ì›** | Backend, DevOps | ì‘ë¬¼ê±°ë˜, ì»¤ë®¤ë‹ˆí‹°, CI/CD | Spring Boot, Docker, Jenkins |
| **ê¹€ë‚˜ì—°** | Frontend | íšŒì›, ì‘ë¬¼ì¼ì§€, í…ƒë°­ì •ë³´ | React, TypeScript, Kakao Maps |
| **ì‹¬ìš°ì„** | Frontend | ë©”ì¸í˜ì´ì§€, ë§ˆì´í˜ì´ì§€, ì»¤ë®¤ë‹ˆí‹° | React, Styled Components, Jotai |
| **ì˜¤ì •ë¯¼** | Frontend | ì‘ë¬¼ê±°ë˜, ì±„íŒ… | React, WebSocket, TanStack Query |

## ğŸ›  í˜‘ì—… ë„êµ¬

### ê°œë°œ ë„êµ¬
- **ë²„ì „ ê´€ë¦¬**: GitLab
- **ì´ìŠˆ ê´€ë¦¬**: Jira
- **ë¬¸ì„œ ê´€ë¦¬**: Notion
- **API í…ŒìŠ¤íŠ¸**: Postman

### ë¬¸ì„œ ë§í¬
- [ğŸ“‹ í™”ë©´êµ¬ì„±ë„](https://www.figma.com/file/Sknk6qQVE8fAiR5nOFvxza/%ED%92%80%EB%9F%AC%ED%8C%85?type=design&node-id=127-5825&mode=design&t=MnKBPQRoEeXjfoAR-0)
- [ğŸ“„ í˜ì´ì§€ ëª…ì„¸ì„œ](https://www.notion.so/e6dd58e2958e4d87a058ba5411bdc34b?v=490bc367fa934dd6b4d8f99816e66ba6)
- [ğŸ§© ì»´í¬ë„ŒíŠ¸ ëª…ì„¸ì„œ](https://www.notion.so/a1d316ad22c14e8d8615d9fd25b97608?v=a9f05331c88348239700d19d218dfb57)
- [ğŸ—„ï¸ ERD](https://www.notion.so/ERD-dc7ce2874a2b4465b541f5cb0ce26b56?v=9deef6569fdd47b98a22de3c9d91ca21)

## ğŸ›  ë°±ì—”ë“œ ì„¤ì •

### Redis ì„¤ì •

#### ì˜ì¡´ì„± ì¶”ê°€ (pom.xml)
```xml
<dependency>
    <groupId>com.fasterxml.jackson.datatype</groupId>
    <artifactId>jackson-datatype-jsr310</artifactId>
</dependency>
```
 

#### Redis ë°ì´í„° êµ¬ì¡°
- `auction:{articleId}`: ê²½ë§¤ ìƒíƒœ ì •ë³´ (Hash)
  - `bidLogId`: ë§ˆì§€ë§‰ ì…ì°° ID
  - `topBidderId`: ìµœê³  ì…ì°°ì ID
  - `currentPrice`: í˜„ì¬ ìµœê³ ê°€

- `auction:{articleId}:logs`: ì…ì°° ë‚´ì—­ (List)
  - ìµœëŒ€ 50ê°œ í•­ëª© ìœ ì§€
  - 1ì‹œê°„ TTL ì„¤ì •

#### Redis CLI ëª…ë ¹ì–´ ì˜ˆì‹œ
```bash
# ëª¨ë“  ê²½ë§¤ í‚¤ ì¡°íšŒ
KEYS auction:*

# íŠ¹ì • ê²½ë§¤ì˜ ìƒíƒœ ì¡°íšŒ
HGETALL auction:3

# ì…ì°° ë‚´ì—­ ì¡°íšŒ
LRANGE auction:3:logs 0 -1
```

### ğŸ”„ Redis ìºì‹± ì „ëµ

#### 1. ìºì‹œ êµ¬ì¡°
- **í‚¤ í¬ë§·**: 
  - `auction:{ex_article_id}`: ê²½ë§¤ ë©”íƒ€ë°ì´í„°
  - `auction:{ex_article_id}:logs`: ìµœëŒ€ 50ê°œì˜ ìµœê·¼ ì…ì°° ë‚´ì—­

#### 2. ìºì‹œ TTL
- **ë§Œë£Œ ì‹œê°„**: 24ì‹œê°„
- **ìë™ ê°±ì‹ **: ìºì‹œ ë¯¸ìŠ¤ ì‹œ DBì—ì„œ ë°ì´í„° ì¡°íšŒ í›„ ìë™ ê°±ì‹ 

#### 3. ìºì‹œ ì¼ê´€ì„±
- **ì“°ê¸° ì‹œ**: ìƒˆë¡œìš´ ì…ì°° ë°œìƒ ì‹œ ìºì‹œì™€ DBì— ë™ì‹œ ì €ì¥
- **ì½ê¸° ì‹œ**:
  1. Redis ìºì‹œì—ì„œ ì¡°íšŒ ì‹œë„
  2. ìºì‹œ ë¯¸ìŠ¤ ì‹œ DB ì¡°íšŒ í›„ ìºì‹œ ê°±ì‹ 

#### 4. ì„±ëŠ¥ ìµœì í™”
- ìµœëŒ€ 50ê°œì˜ ìµœê·¼ ì…ì°° ë‚´ì—­ë§Œ ìºì‹œí•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì œí•œ
- ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‹œ ìºì‹œ ìš°ì„  ì¡°íšŒë¡œ DB ë¶€í•˜ ê°ì†Œ

### ğŸ”„ Kafka Consumer Group

#### Consumer Groupì´ í•„ìš”í•œ ì´ìœ 
1. **ë©”ì‹œì§€ ë¶„ì‚° ì²˜ë¦¬**
   - ê°™ì€ Group IDë¥¼ ê°€ì§„ Consumer ì¸ìŠ¤í„´ìŠ¤ë“¤ì´ í† í”½ì˜ íŒŒí‹°ì…˜ì„ ë‚˜ëˆ„ì–´ ì²˜ë¦¬
   - ì˜ˆ: 3ê°œ íŒŒí‹°ì…˜ í† í”½ì— 3ê°œ Consumerê°€ ê°™ì€ Group IDë¡œ ì—°ê²°ë˜ë©´ ê°ê° 1ê°œ íŒŒí‹°ì…˜ì”© ë‹´ë‹¹

2. **ë©”ì‹œì§€ ì¤‘ë³µ/ìœ ì‹¤ ë°©ì§€**
   - Group IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤í”„ì…‹(offset) ê´€ë¦¬
   - ë©”ì‹œì§€ê°€ í•œ ë²ˆë§Œ ì²˜ë¦¬ë˜ë„ë¡ ë³´ì¥

3. **í™•ì¥ì„±**
   - Consumer ìˆ˜ë¥¼ ìœ ì—°í•˜ê²Œ ì¡°ì • ê°€ëŠ¥
   - Group Coordinatorê°€ ìë™ìœ¼ë¡œ íŒŒí‹°ì…˜ ì¬ì¡°ì •

4. **ë‹¤ì–‘í•œ ì†Œë¹„ íŒ¨í„´ ì§€ì›**
   - ê°™ì€ í† í”½ì„ ë‹¤ë¥¸ Group IDë¡œ êµ¬ë…í•˜ë©´ ê° ê·¸ë£¹ì´ ë…ë¦½ì ìœ¼ë¡œ ëª¨ë“  ë©”ì‹œì§€ ìˆ˜ì‹ 
   - ë¸Œë¡œë“œìºìŠ¤íŒ…ì´ í•„ìš”í•œ ê²½ìš° ìœ ìš©

#### ì£¼ì˜ì‚¬í•­
- `groupId`ëŠ” í•„ìˆ˜ ì†ì„±ì…ë‹ˆë‹¤. ìƒëµ ì‹œ "No group.id found in consumer config" ì˜¤ë¥˜ ë°œìƒ
- íŒŒí‹°ì…˜ ìˆ˜ â‰¥ ì»¨ìŠˆë¨¸ ìˆ˜ì—¬ì•¼ ëª¨ë“  ì»¨ìŠˆë¨¸ê°€ ë©”ì‹œì§€ ìˆ˜ì‹ 
- ê°™ì€ íŒŒí‹°ì…˜ ë‚´ì—ì„œë§Œ ë©”ì‹œì§€ ìˆœì„œ ë³´ì¥

#### ì˜ˆì‹œ ì½”ë“œ
```java
@KafkaListener(
    topics = "bid_requests", 
    groupId = "bid-group",  // í•„ìˆ˜
    containerFactory = "bidKafkaListenerContainerFactory"
)
public void consumeBidRequest(String message) {
    // ë©”ì‹œì§€ ì²˜ë¦¬ ë¡œì§
}
```

Follow these instructions to make the following change to my code document.

Instruction: Redis ìºì‹œ ì—­ì§ë ¬í™” ì´ìŠˆì— ëŒ€í•œ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

Code Edit:
```
{{ ... }}
### ğŸš‘ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… â€“ ClassCastException(Integer â†’ BidLogResponse)
| ì¦ìƒ | ì›ì¸ | í•´ê²° |
|------|------|------|
| Redisì—ì„œ ì¡°íšŒí•œ ë°ì´í„°ë¥¼ BidLogResponseë¡œ ìºìŠ¤íŒ…í•  ë•Œ ClassCastException ë°œìƒ | Redisì— ì €ì¥ëœ ë°ì´í„°ê°€ String(JSON) í˜•ì‹ì¸ë°, ì´ë¥¼ ì§ì ‘ BidLogResponseë¡œ ìºìŠ¤íŒ…í•˜ë ¤ê³  í•´ì„œ ë°œìƒ | Redisì—ì„œ ì¡°íšŒí•œ ë°ì´í„°ì˜ íƒ€ì…ì„ í™•ì¸í•˜ê³ , Stringì¸ ê²½ìš° ObjectMapperë¥¼ ì‚¬ìš©í•˜ì—¬ ì—­ì§ë ¬í™”í•˜ë„ë¡ ìˆ˜ì • |

```java
return redisList.stream()
    .map(obj -> {
        if (obj instanceof LinkedHashMap) {
            return objectMapper.convertValue(obj, BidLogResponse.class);
        } else if (obj instanceof String) {
            try {
                return objectMapper.readValue((String) obj, BidLogResponse.class);
            } catch (Exception e) {
                throw new RuntimeException("Redis ìºì‹œ ì—­ì§ë ¬í™” ì‹¤íŒ¨", e);
            }
        } else {
            throw new RuntimeException("ì•Œ ìˆ˜ ì—†ëŠ” ìºì‹œ íƒ€ì…: " + obj.getClass());
        }
    })
    .collect(Collectors.toList());
```

### ğŸš‘ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… â€“ Redis ìºì‹œ ì—­ì§ë ¬í™” ì´ìŠˆ
| ì¦ìƒ | ì›ì¸ | í•´ê²° |
|------|------|------|
| Redisì—ì„œ ì¡°íšŒí•œ ë°ì´í„°ë¥¼ BidLogResponseë¡œ ë³€í™˜ ì‹œ ClassCastException ë°œìƒ | RedisTemplateì´ ë‹¤ë¥¸ ì„¤ì •ìœ¼ë¡œ ì¸í•´ String ë˜ëŠ” LinkedHashMapìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŒ | ë°ì´í„° íƒ€ì…ì„ í™•ì¸í•˜ê³  ê°ê°ì— ë§ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë¡œì§ ì¶”ê°€ |

**í•´ê²° ë°©ë²•:**
1. Redisì—ì„œ ì¡°íšŒí•œ ë°ì´í„°ì˜ íƒ€ì…ì„ í™•ì¸
2. LinkedHashMapì¸ ê²½ìš°: `objectMapper.convertValue()` ì‚¬ìš©
3. String(JSON)ì¸ ê²½ìš°: `objectMapper.readValue()`ë¡œ ì—­ì§ë ¬í™”
4. ê·¸ ì™¸ íƒ€ì…ì€ ì˜ˆì™¸ ì²˜ë¦¬

**ì°¸ê³  ì½”ë“œ:**
```java
return redisList.stream()
    .map(obj -> {
        if (obj instanceof LinkedHashMap) {
            return objectMapper.convertValue(obj, BidLogResponse.class);
        } else if (obj instanceof String) {
            try {
                return objectMapper.readValue((String) obj, BidLogResponse.class);
            } catch (Exception e) {
                throw new RuntimeException("Redis ìºì‹œ ì—­ì§ë ¬í™” ì‹¤íŒ¨", e);
            }
        } else {
            throw new RuntimeException("ì•Œ ìˆ˜ ì—†ëŠ” ìºì‹œ íƒ€ì…: " + obj.getClass());
        }
    })
    .collect(Collectors.toList());
```

**ì›ì¸ ë¶„ì„:**
- RedisTemplateì˜ ê¸°ë³¸ ì§ë ¬í™”/ì—­ì§ë ¬í™” ì„¤ì •ì— ë”°ë¼ ë°ì´í„°ê°€ ë‹¤ë¥´ê²Œ ì €ì¥/ì¡°íšŒë  ìˆ˜ ìˆìŒ
- StringRedisTemplateì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° Stringìœ¼ë¡œ, RedisTemplateì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ê°ì²´ë¡œ ì €ì¥ë¨
- ë‘ ê°€ì§€ ê²½ìš°ë¥¼ ëª¨ë‘ ì²˜ë¦¬í•´ì•¼ ì•ˆì •ì ì¸ ë™ì‘ì´ ê°€ëŠ¥

{{ ... }}
```

Follow these instructions to make the following change to my code document.

Instruction: Update the API list in the README to accurately reflect the actual endpoints in the codebase, ensuring all paths and methods are correct.

Code Edit:
```
{{ ... }}

## ğŸ“Œ API ëª©ë¡

### ì‚¬ìš©ì ì¸ì¦
```
POST   /v1/auth/login           # ë¡œê·¸ì¸
POST   /v1/auth/refresh        # í† í° ì¬ë°œê¸‰
POST   /v1/auth/register       # íšŒì›ê°€ì…
```

### ì‚¬ìš©ì ì •ë³´
```
GET    /v1/users/me            # ë‚´ ì •ë³´ ì¡°íšŒ
PATCH  /v1/users               # ë‚´ ì •ë³´ ìˆ˜ì •
PATCH  /v1/users/town          # ë™ë„¤ ì •ë³´ ìˆ˜ì •
POST   /v1/users/upload        # í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ
```

### ê²½ë§¤/ê±°ë˜
```
# ê²½ë§¤ ì…ì°°
POST   /v1/exchanges/{ex_article_id}/bid      # ì…ì°° ì œì•ˆ
GET    /v1/exchanges/bid-logs/{ex_article_id} # ì…ì°° ë‚´ì—­ ì¡°íšŒ

# ì¼ë°˜ ê±°ë˜
GET    /v1/exchanges/category/share          # ë‚˜ëˆ” ëª©ë¡ ì¡°íšŒ
GET    /v1/exchanges/category/trans          # ì¼ë°˜ ê±°ë˜ ëª©ë¡ ì¡°íšŒ
GET    /v1/exchanges/category/my/trans       # ë‚´ ê±°ë˜ ëª©ë¡ ì¡°íšŒ

# ê²½ë§¤/ê±°ë˜ ê³µí†µ
POST   /v1/exchanges                        # ê²Œì‹œê¸€ ë“±ë¡
GET    /v1/exchanges/{id}                   # ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ
GET    /v1/exchanges/category/deal          # ì œì•ˆ ì¹´í…Œê³ ë¦¬ ì¡°íšŒ
GET    /v1/exchanges/wrotearticles          # ë‚´ê°€ ì‘ì„±í•œ ê²Œì‹œë¬¼ ì¡°íšŒ
```

### ì‘ë¬¼ ì¼ì§€
```
# ì‘ë¬¼ ì¼ì§€ íŒ©
GET    /v1/pack-diaries                     # ì‘ë¬¼ ì¼ì§€ íŒ© ëª©ë¡
POST   /v1/pack-diaries                     # ì‘ë¬¼ ì¼ì§€ íŒ© ìƒì„±
GET    /v1/pack-diaries/{id}                # ì‘ë¬¼ ì¼ì§€ íŒ© ìƒì„¸

# ì‘ë¬¼ ì¼ì§€
GET    /v1/diaries/{pack_diary_id}          # ì‘ë¬¼ ì¼ì§€ ëª©ë¡
GET    /v1/diaries/detail/{diary_id}        # ì‘ë¬¼ ì¼ì§€ ìƒì„¸
POST   /v1/diaries/{pack_diary_id}          # ì‘ë¬¼ ì¼ì§€ ìƒì„±
POST   /v1/diaries/{pack_diary_id}/water    # ë¬¼ì£¼ê¸°
```

### ì»¤ë®¤ë‹ˆí‹°
```
# ê²Œì‹œê¸€
GET    /v1/articles                   # ê²Œì‹œê¸€ ëª©ë¡
POST   /v1/articles                   # ê²Œì‹œê¸€ ì‘ì„±
GET    /v1/articles/{id}              # ê²Œì‹œê¸€ ìƒì„¸

# ëŒ“ê¸€
POST   /v1/articles/{article_id}/comments          # ëŒ“ê¸€ ì‘ì„±
GET    /v1/articles/{article_id}/comments/all      # ëŒ“ê¸€ ëª©ë¡
DELETE /v1/articles/{article_id}/comments/{comment_id}  # ëŒ“ê¸€ ì‚­ì œ

# ì¢‹ì•„ìš”
POST   /v1/articles/{article_id}/like   # ì¢‹ì•„ìš” í† ê¸€
```

### ì±„íŒ…
```
GET    /v1/chat-room                   # ì±„íŒ…ë°© ëª©ë¡
POST   /v1/chat-room                   # ì±„íŒ…ë°© ìƒì„±
GET    /v1/chat-room/{chat_room_id}    # ì±„íŒ…ë°© ìƒì„¸
```

### ì•Œë¦¼
```
GET    /v1/noti/pub     # SSE êµ¬ë… (text/event-stream)
```

### ê¸°íƒ€
```
GET    /v1/crop-types          # ì‘ë¬¼ ì¢…ë¥˜ ì¡°íšŒ
GET    /v1/crop-tips/{crop_type_id}    # ì‘ë¬¼ë³„ ì¬ë°° íŒ ì¡°íšŒ
GET    /v1/farms/search?region={region} # í…ƒë°­ ì •ë³´ ì¡°íšŒ
POST   /v1/file/uploadFile     # íŒŒì¼ ì—…ë¡œë“œ
```

{{ ... }}