# ğŸŒ¿ í’€ëŸ¬íŒ… (Fullerting)

<div align="center">
  <img src="./img/etc/í’€ëŸ¬íŒ….png" width="300"/>
  
  **ë„ì‹œë†ë¶€ë¥¼ ìœ„í•œ ì‘ë¬¼ ê±°ë˜ ë° ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼**
  
  [![React](https://img.shields.io/badge/React-18.2.0-61DAFB?logo=react)](https://reactjs.org/)
  [![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.3-6DB33F?logo=spring-boot)](https://spring.io/projects/spring-boot)
  [![TypeScript](https://img.shields.io/badge/TypeScript-5.2.2-3178C6?logo=typescript)](https://www.typescriptlang.org/)
  [![Docker](https://img.shields.io/badge/Docker-20.10+-2496ED?logo=docker)](https://www.docker.com/)
  [![Jenkins](https://img.shields.io/badge/Jenkins-CI/CD-D24939?logo=jenkins)](https://jenkins.io/)
</div>

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [ì„¤ì¹˜ ë° ì‹¤í–‰](#-ì„¤ì¹˜-ë°-ì‹¤í–‰)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [íŒ€ì› ì†Œê°œ](#-íŒ€ì›-ì†Œê°œ)
- [í˜‘ì—… ë„êµ¬](#-í˜‘ì—…-ë„êµ¬)
- [JWT í† í° ê°±ì‹  ì •ì±…](#-jwt-í† í°-ê°±ì‹ -ì •ì±…)

## ğŸŒŸ í”„ë¡œì íŠ¸ ì†Œê°œ

**í’€ëŸ¬íŒ…**ì€ ë„ì‹œë†ë¶€ë“¤ì´ ìì‹ ì´ ê¸°ë¥¸ ì‘ë¬¼ì„ ê±°ë˜í•˜ê³ , ì¬ë°° ê²½í—˜ì„ ê³µìœ í•  ìˆ˜ ìˆëŠ” ì¢…í•© í”Œë«í¼ì…ë‹ˆë‹¤. 

### í•µì‹¬ ê°€ì¹˜
- ğŸ¥¬ **ì‹ ì„ í•œ ì‘ë¬¼ ê±°ë˜**: ë™ë„¤ ì¸ì¦ì„ í†µí•œ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì‘ë¬¼ ê±°ë˜
- ğŸ“ **ì‘ë¬¼ ì¬ë°° ê¸°ë¡**: AI ê¸°ë°˜ ì‘ë¬¼ ì¸ì‹ê³¼ í•¨ê»˜í•˜ëŠ” ìŠ¤ë§ˆíŠ¸ ì¬ë°° ì¼ì§€
- ğŸ‘¥ **ì»¤ë®¤ë‹ˆí‹°**: ë†ì‘ë¬¼ ì¬ë°° ê²½í—˜ê³¼ ê¿€íŒ ê³µìœ 
- ğŸ¡ **í…ƒë°­ ì •ë³´**: ì§€ì—­ë³„ í…ƒë°­ ìœ„ì¹˜ ë° ì •ë³´ ì œê³µ

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### ğŸ“± ë©”ì¸í™”ë©´

<div align="center">
  <img src="./img/main/ë©”ì¸í™”ë©´.jpg" width="200" height="420"/>
  <img src="./img/main/ì•Œë¦¼í™•ì¸.jpg" width="200" height="420"/>
</div>

- í™ˆ, ì‘ë¬¼ê±°ë˜, ì»¤ë®¤ë‹ˆí‹°, ì‘ë¬¼ì¼ì§€, ë§ˆì´í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜
- ì‹¤ì‹œê°„ ì•Œë¦¼ ë° ì±„íŒ… ê¸°ëŠ¥
- PWA ì§€ì›ìœ¼ë¡œ ì•±ê³¼ ê°™ì€ ì‚¬ìš©ì ê²½í—˜

### ğŸ¥¬ ì‘ë¬¼ê±°ë˜

#### ë™ë„¤ì¸ì¦
<div align="center">
  <img src="./img/trade/í˜„ì¬ìœ„ì¹˜.jpg" width="200" height="420"/>
  <img src="./img/trade/ì£¼ì†Œì¸ì¦.jpg" width="200" height="420"/>
</div>

#### ê±°ë˜ ì‹œìŠ¤í…œ
<div align="center">
  <img src="./img/trade/ê±°ë˜.jpg" width="200" height="420"/>
  <img src="./img/trade/ì‘ë¬¼ê±°ë˜ìƒì„±.jpg" width="200" height="420"/>
</div>

#### ì œì•ˆ ì‹œìŠ¤í…œ
<div align="center">
  <img src="./img/trade/ê±°ë˜ì œì•ˆëª©ë¡.jpg" width="200" height="420"/>
  <img src="./img/trade/ê±°ë˜ì œì•ˆ.jpg" width="200" height="420"/>
</div>

#### ì‹¤ì‹œê°„ ì±„íŒ…
<div align="center">
  <img src="./img/trade/ì±„íŒ…ëª©ë¡.jpg" width="200" height="420"/>
  <img src="./img/trade/ì±„íŒ….jpg" width="200" height="420"/>
</div>

**íŠ¹ì§•:**
- GPS ê¸°ë°˜ ë™ë„¤ ì¸ì¦ ì‹œìŠ¤í…œ
- ì¼ë°˜ê±°ë˜ ë° ì œì•ˆê±°ë˜ ë°©ì‹ ì§€ì›
- WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì±„íŒ…
- ê±°ë˜ ì™„ë£Œ ìë™ ì²˜ë¦¬

### ğŸ“ ì‘ë¬¼ì¼ì§€

#### ì‘ë¬¼ ê´€ë¦¬
<div align="center">
  <img src="./img/diary/ì‘ë¬¼ì¼ì§€.jpg" width="200" height="420"/>
  <img src="./img/diary/ì‘ë¬¼ì¼ì§€ìƒì„±.jpg" width="200" height="420"/>
</div>

#### ì¼ê¸° ì‘ì„±
<div align="center">
  <img src="./img/diary/ì‘ë¬¼ì¼ê¸°.jpg" width="200" height="420"/>
  <img src="./img/diary/ë‹¤ì´ì–´ë¦¬ìƒì„¸.jpg" width="200" height="420"/>
  <img src="./img/diary/ì‘ë¬¼ê¿€íŒ.jpg" width="200" height="420"/>
</div>

#### AI ì‘ë¬¼ ì¸ì‹
<div align="center">
  <img src="./img/diary/ì‘ë¬¼ì¼ì§€ìˆ˜í™•.jpg" width="200" height="420"/>
  <img src="./img/diary/ì‘ë¬¼ì¼ê¸°ìˆ˜í™•2.jpg" width="200" height="420"/>
</div>

**íŠ¹ì§•:**
- TensorFlow ê¸°ë°˜ ì‘ë¬¼ ì¸ì‹ AI
- ìƒìœ¡ ë‹¨ê³„ë³„ ìë™ ë¶„ë¥˜
- ìˆ˜í™• ì™„ë£Œ ì‹œ ë±ƒì§€ íšë“ ì‹œìŠ¤í…œ
- ì‘ë¬¼ë³„ ë§ì¶¤ ì¬ë°° íŒ ì œê³µ

### ğŸ‘¥ ì»¤ë®¤ë‹ˆí‹°

<div align="center">
  <img src="./img/community/ì»¤ë®¤ë‹ˆí‹°.jpg" width="200" height="420"/>
  <img src="./img/community/ì»¤ë®¤ë‹ˆí‹°ìƒì„¸.jpg" width="200" height="420"/>
  <img src="./img/community/ì»¤ë®¤ë‹ˆí‹°ëŒ“ê¸€.jpg" width="200" height="420"/>
</div>

**ì¹´í…Œê³ ë¦¬:**
- ììœ ê²Œì‹œíŒ
- ì‘ë¬¼ì†Œê°œ
- ê¿€íŒê³µìœ 
- í…ƒë°­ìš”ë¦¬

### ğŸ¡ í…ƒë°­ì •ë³´

<div align="center">
  <img src="./img/farm/í…ƒë°­ì§€ë„.jpg" width="200" height="420"/>
  <img src="./img/farm/í…ƒë°­ìƒì„¸.jpg" width="200" height="420"/>
</div>

- ì¹´ì¹´ì˜¤ë§µ API ê¸°ë°˜ í…ƒë°­ ìœ„ì¹˜ ì •ë³´
- ì§€ì—­ë³„ í…ƒë°­ ìƒì„¸ ì •ë³´ ì œê³µ

### ğŸ‘¤ ë§ˆì´í˜ì´ì§€

<div align="center">
  <img src="./img/mypage/í”„ë¡œí•„.jpg" width="200" height="420"/>
  <img src="./img/mypage/ë±ƒì§€ì •ë³´.jpg" width="200" height="420"/>
  <img src="./img/mypage/ë‚˜ì˜ì œì•ˆëª©ë¡.jpg" width="200" height="420"/>
</div>

**ê¸°ëŠ¥:**
- í”„ë¡œí•„ ê´€ë¦¬
- ë±ƒì§€ ì»¬ë ‰ì…˜
- ê±°ë˜ ë‚´ì—­ ê´€ë¦¬
- ê´€ì‹¬ ê²Œì‹œê¸€ ê´€ë¦¬

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| React | 18.2.0 | UI ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| TypeScript | 5.2.2 | íƒ€ì… ì•ˆì •ì„± |
| Vite | 5.1.6 | ë¹Œë“œ ë„êµ¬ |
| Styled Components | 6.1.8 | CSS-in-JS |
| Jotai | 2.7.0 | ìƒíƒœ ê´€ë¦¬ |
| TanStack Query | 5.28.6 | ì„œë²„ ìƒíƒœ ê´€ë¦¬ |
| React Router DOM | 6.22.3 | ë¼ìš°íŒ… |
| React Kakao Maps SDK | 1.1.26 | ì§€ë„ ì„œë¹„ìŠ¤ |
| StompJS | 7.0.0 | WebSocket í†µì‹  |

### Backend
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Spring Boot | 3.2.3 | ì›¹ í”„ë ˆì„ì›Œí¬ |
| Spring Security | - | ì¸ì¦/ì¸ê°€ |
| Spring Data JPA | - | ORM |
| Spring WebSocket | - | ì‹¤ì‹œê°„ í†µì‹  |
| Spring Kafka | - | ë©”ì‹œì§€ í |
| JWT | 0.11.5 | í† í° ì¸ì¦ |
| MySQL | - | ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ |
| Redis | - | ìºì‹œ/ì„¸ì…˜ |
| MongoDB | - | ì±„íŒ… ë¡œê·¸ |
| QueryDSL | 5.0.0 | ë™ì  ì¿¼ë¦¬ |

### AI/ML
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| TensorFlow | 2.13.0 | ë”¥ëŸ¬ë‹ í”„ë ˆì„ì›Œí¬ |
| Keras | 2.13.1 | ê³ ìˆ˜ì¤€ API |
| Django | 4.2.11 | AI ì„œë²„ |
| Teachable Machine | - | ëª¨ë¸ í•™ìŠµ |

### DevOps
| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| Docker | ì»¨í…Œì´ë„ˆí™” |
| Docker Compose | ë©€í‹° ì»¨í…Œì´ë„ˆ ê´€ë¦¬ |
| Jenkins | CI/CD |
| Nginx | ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ |
| AWS | í´ë¼ìš°ë“œ ì¸í”„ë¼ |

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

<div align="center">
  <img src="./ì•„í‚¤í…ì³.drawio.png" alt="System Architecture" width="800"/>
</div>

### ì•„í‚¤í…ì²˜ íŠ¹ì§•
- **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤**: Frontend, Backend, AI ì„œë²„ ë¶„ë¦¬
- **ì‹¤ì‹œê°„ í†µì‹ **: WebSocket + Kafka ì¡°í•©
- **ìŠ¤ì¼€ì¼ë§**: Docker ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ìˆ˜í‰ í™•ì¥
- **ë³´ì•ˆ**: JWT + OAuth2 ì¸ì¦ ì‹œìŠ¤í…œ
- **ëª¨ë‹ˆí„°ë§**: Jenkins CI/CD íŒŒì´í”„ë¼ì¸

### ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ ì„¤ê³„

#### Kafka + Redis ì—­í•  ë¶„ë¦¬
- **Kafka**: ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì „ì†¡ ë° ì•Œë¦¼
  - ì…ì°° ë°œìƒ ì‹œ ì¦‰ì‹œ Kafkaë¡œ ë©”ì‹œì§€ ì „ì†¡
  - WebSocketì„ í†µí•´ ì‹¤ì‹œê°„ í™”ë©´ ì—…ë°ì´íŠ¸
  - íŒŒí‹°ì…˜ í‚¤ë¥¼ ì‚¬ìš©í•œ ë©”ì‹œì§€ ìˆœì„œ ë³´ì¥

- **Redis**: ìƒíƒœ ìºì‹œ ë° ë¹ ë¥¸ ì¡°íšŒ
  - ê²½ë§¤ ìƒíƒœ(í˜„ì¬ê°€, ìµœê³ ì…ì°°ì) ìºì‹±
  - ì¡°íšŒ ì‹œ DB ë¶€í•˜ ê°ì†Œ
  - 1ì‹œê°„ ë§Œë£Œ ì‹œê°„ìœ¼ë¡œ ë©”ëª¨ë¦¬ ê´€ë¦¬

#### MongoDB: ì…ì°° ë¡œê·¸ ì¥ê¸° ë³´ì¡´ & í†µê³„
- **Bid Log ì˜ì† ì €ì¥**: BidService ê°€ ì…ì°° ë°œìƒ ì‹œ `MongoTemplate.save()` ë¡œ `bidLog` ì»¬ë ‰ì…˜ì— ë™ì‹œì— ì €ì¥(upsert).  
- **ì§‘ê³„ ì¿¼ë¦¬**: `BidRepositoryCustomImpl` ì˜ Aggregation íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ì‚¬ìš©ì í†µê³„ ë“± ê³„ì‚°.  
- **Schema-less**: ìƒˆë¡œìš´ í•„ë“œ ì¶”ê°€ ì‹œ í…Œì´ë¸” ë³€ê²½ ì—†ì´ ë°”ë¡œ ë°˜ì˜.

##### Redis í•´ì‹œ êµ¬ì¡° ì˜ˆì‹œ (auction:<ê²½ë§¤ê¸€ID>)
```bash
# ì˜ˆ) ê²½ë§¤ê¸€ ID = 3
127.0.0.1:6379> HGETALL auction:3
1) "currentPrice"  # í˜„ì¬ ìµœê³ ê°€
2) "8"
3) "bidLogId"      # í•´ë‹¹ ì…ì°° ë¡œê·¸(MongoDB) ID
4) "7"
5) "topBidderId"   # ìµœê³  ì…ì°°ì(ì‚¬ìš©ì) ID
6) "2"
```
> BidService ì—ì„œ ì…ì°°ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ìœ„ í•´ì‹œë¥¼ ê°±ì‹ í•©ë‹ˆë‹¤. í”„ë¡ íŠ¸ì—”ë“œÂ·ë°±ì—”ë“œëŠ” `HGETALL` ë˜ëŠ” `HVALS` ëª…ë ¹ìœ¼ë¡œ ê°’ì„ ì½ì–´ ë°°ì—´ë¡œ ë³€í™˜í•´ í™”ë©´ì„ ì¦‰ì‹œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.

##### Redis ì…ì°° ë¡œê·¸ ë¦¬ìŠ¤íŠ¸ ì˜ˆì‹œ (auction:<ê²½ë§¤ê¸€ID>:logs)
```bash
LRANGE auction:3:logs 0 2   # ìµœì‹  3ê±´ ì¡°íšŒ
1) "{\"bidLogId\":7,\"userId\":2,\"price\":8000, ... }"
2) "{\"bidLogId\":6,\"userId\":5,\"price\":7500, ... }"
3) "{\"bidLogId\":5,\"userId\":9,\"price\":7000, ... }"
```
> ë‘ í‚¤ëŠ” **ë…ë¦½ì **ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤. ì…ì°° ë°œìƒ ì‹œ ì„œë¹„ìŠ¤ê°€ Hash ì™€ List ë¥¼ í•¨ê»˜ ê°±ì‹ í•˜ì§€ë§Œ, Redis ê´€ì ì—ì„œëŠ” ë³„ë„ ì—”íŠ¸ë¦¬ì´ë¯€ë¡œ ë§Œë£Œì‹œê°„/ì‚­ì œë¥¼ ê°œë³„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Hash ëŠ” í˜„ì¬ ìƒíƒœ(O(1) ì¡°íšŒ) , List ëŠ” ìµœê·¼ ë¡œê·¸ ìŠ¤íŠ¸ë¦¼(ìµœëŒ€ 50ê°œ) ì—­í• ì„ í•©ë‹ˆë‹¤.

#### ì…ì°° í˜„í™© ì¡°íšŒ ë™ì‘
- **bidLogController.selectbid()** ë¡œì§
  1. `auction:{id}:logs` **Redis List** ì—ì„œ ìµœê·¼ ì…ì°° ë¡œê·¸ ì¡°íšŒ â†’ ìˆìœ¼ë©´ ë°”ë¡œ ì‘ë‹µ
  2. ë¹„ì–´ ìˆì„ ê²½ìš° `bidService.selectbid()` í˜¸ì¶œ â†’ (ìºì‹œ í•´ì‹œ or DB) ì¡°íšŒ í›„ ê²°ê³¼ ë°˜í™˜
- **ê²½ë§¤ê¸€(ì‘ë¬¼) ìƒì„¸ í˜ì´ì§€ì— ì§„ì…í•˜ë©´**
  - í”„ë¡ íŠ¸ì—”ë“œê°€ selectbid API í˜¸ì¶œ
  - Controller ë‹¨ê³„ì—ì„œ Redis List ìºì‹œ íˆíŠ¸ ì‹œ ì¦‰ì‹œ ë°˜í™˜->í™”ë©´ì— ë Œë”ë§
  - ë¯¸ìŠ¤ì¼ ê²½ìš° Service ë‹¨ê³„ì—ì„œ Hash/DB ì¡°íšŒ í›„ ê²°ê³¼ ì €ì¥Â·ë°˜í™˜
  - ê²°êµ­ "ë Œë”ë§í•˜ë©´ ë°”ë¡œ ë³´ì´ëŠ” ì…ì°° ì •ë³´"ê°€ ìºì‹œ ë¯¸ìŠ¤ ì—†ëŠ” í•œ <100ms ë‚´ ì‘ë‹µ

#### ë™ì‘ íë¦„
```
ì…ì°° ë°œìƒ ì‹œ:
1. DBì— ì…ì°° ê¸°ë¡ ì €ì¥
2. Redisì— ìƒíƒœ ìºì‹œ ì €ì¥ (ì¡°íšŒìš©)
3. MongoDBì— ì…ì°° ë¡œê·¸ ì˜ì† ì €ì¥ (í†µê³„ìš©)
4. Kafkaë¡œ ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì „ì†¡ (ì•Œë¦¼ìš©)

ì¡°íšŒ ì‹œ:
1. Redisì—ì„œ ìƒíƒœ ìš°ì„  ì¡°íšŒ (ë¹ ë¥¸ ì‘ë‹µ)
2. ì—†ìœ¼ë©´ DBì—ì„œ ì¡°íšŒ

ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œ:
1. Kafka ë©”ì‹œì§€ë¡œ WebSocket ì „ì†¡
2. í™”ë©´ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
```

#### ê¸°ìˆ ì  ì¥ì 
- **ì„±ëŠ¥ ìµœì í™”**: Redis ìºì‹œë¡œ ë¹ ë¥¸ ì¡°íšŒ
- **ì‹¤ì‹œê°„ì„±**: Kafka + WebSocketìœ¼ë¡œ ì¦‰ì‹œ ì•Œë¦¼
- **í™•ì¥ì„±**: ê°ê° ë…ë¦½ì ìœ¼ë¡œ ìŠ¤ì¼€ì¼ë§ ê°€ëŠ¥
- **ì•ˆì •ì„±**: ë©”ì‹œì§€ ìˆœì„œ ë³´ì¥ ë° ì¥ì•  ë³µêµ¬

### ğŸš‘ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… â€“ ClassCastException(Integer â†’ BidLogResponse)
| ì¦ìƒ | ì›ì¸ | í•´ê²° |
|------|------|------|
| `java.lang.ClassCastException: java.lang.Integer cannot be cast to BidLogResponse` | Redis ì— Hash íƒ€ì…ìœ¼ë¡œ `currentPrice`(ìˆ«ì) ë“±ì„ ì €ì¥í•œ ë’¤, ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ **ëª¨ë“ ** Hash ê°’ì„ `BidLogResponse` ë¡œ ìºìŠ¤íŒ…í•¨ | 1) Redis êµ¬ì¡°ë¥¼ **Hash(ìš”ì•½)** + **List(ìµœê·¼ ë¡œê·¸)** ë¡œ ë¶„ë¦¬ 2) ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ `auction:{id}:logs` ë¦¬ìŠ¤íŠ¸ë¥¼ ì½ì–´ `instanceof` ê²€ì‚¬ í›„ ìºìŠ¤íŒ… |
> 2025-07-06 ë¦¬íŒ©í„°ë§ìœ¼ë¡œ Hash ì—ëŠ” ìˆ«ìÂ·ID ë“± ìš”ì•½ ì •ë³´ë§Œ, List ì—ëŠ” `BidLogResponse` ê°ì²´ë§Œ ì €ì¥í•˜ë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë¨¼ì € List ë¥¼ ì¡°íšŒí•˜ì—¬ ìºìŠ¤íŒ… ì˜¤ë¥˜ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.

**ì›ì¸ ìƒì„¸**
1. ì´ˆê¸° êµ¬í˜„ì—ì„œëŠ” `auction:{id}` í•´ì‹œì— ìµœê·¼ ì…ì°° ë¡œê·¸ ê°ì²´ì™€ ìˆ«ì í•„ë“œ(í˜„ì¬ê°€ ë“±)ë¥¼ **ì„ì–´** ì €ì¥í–ˆìŠµë‹ˆë‹¤.
2. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” `HVALS auction:{id}` ë¡œ ëª¨ë“  ê°’ì„ ì¡°íšŒí•œ ë’¤, ë³„ë„ì˜ íƒ€ì… ì²´í¬ ì—†ì´ `BidLogResponse` ë¡œ ê°•ì œ ìºìŠ¤íŒ…í–ˆìŠµë‹ˆë‹¤.
3. í•´ì‹œ ì•ˆì— ìˆë˜ `currentPrice`(Integer) ê°€ ìŠ¤íŠ¸ë¦¼ ì—°ì‚° ì¤‘ ìºìŠ¤íŒ…ë˜ì–´ `ClassCastException` ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

```java
List<BidLogResponse> cached = redisEntries.values().stream()
    .map(obj -> (BidLogResponse) obj) // Integer â†’ BidLogResponse ìºìŠ¤íŒ… ì˜¤ë¥˜
    .toList();
```
> í•µì‹¬ ë¬¸ì œëŠ” **ë‹¨ì¼ ì»¨í…Œì´ë„ˆ(í•´ì‹œ)ì— ë‹¤ì–‘í•œ íƒ€ì…**ì„ ì„ì–´ ì €ì¥í•˜ë©´ì„œë„, ì½ì„ ë•Œ íƒ€ì… êµ¬ë¶„ì„ í•˜ì§€ ì•Šì€ ì„¤ê³„ì˜€ìŠµë‹ˆë‹¤.

## ğŸ” JWT í† í° ê°±ì‹  ì •ì±…

| êµ¬ë¶„ | ë‚´ìš© |
|------|------|
| Access Token | ìœ íš¨ê¸°ê°„ ì§§ìŒ(15 min). ëª¨ë“  API ìš”ì²­ ì‹œ `Authorization: Bearer <access>` í—¤ë”ë¡œ ì „ì†¡ |
| Refresh Token | ìœ íš¨ê¸°ê°„ ê¹€(14 days). ìµœì´ˆ ë¡œê·¸ì¸ ì‹œ Redis ì— ì €ì¥, Cookie/SessionStorage ì— ë³´ê´€ |

1. **ìš”ì²­ íë¦„**
   1) í´ë¼ì´ì–¸íŠ¸ê°€ API í˜¸ì¶œ â†’ `JwtValidationFilter` ì—ì„œ accessToken ê²€ì¦.
   2) ë§Œë£Œ(401) â†’ í”„ë¡ íŠ¸ Axios ì¸í„°ì…‰í„°ê°€ `/v1/auth/refresh` POST `{ refreshToken }` í˜¸ì¶œ.

2. **`TokenService.reIssueAccessTokenByRefreshToken()`**
   - refreshToken ì„œëª…Â·ë§Œë£Œ ê²€ì¦ â†’ `jwtUtils.validateRefreshToken()`
   - Claim ì—ì„œ `userId` ì¶”ì¶œ â†’ Redis ì˜ ì €ì¥ê°’ê³¼ ì¼ì¹˜ ì—¬ë¶€ í™•ì¸.
   - ì¼ì¹˜í•  ê²½ìš° **Refresh-Token Rotation** ìˆ˜í–‰:
     ```java
     String newAccess = jwtUtils.issueAccessToken(email, userId, authorities);
     String newRefresh = jwtUtils.issueRefreshToken(email, userId, authorities);
     tokenRepository.save(new Token(userId, newRefresh));          // Redis ê°±ì‹ 
     invalidTokenRepository.save(new InvalidToken(null, oldRefresh)); // êµ¬ RT íê¸°
     return new IssuedToken(newAccess, newRefresh);
     ```
   - ë¶ˆì¼ì¹˜ â†’ `JwtException(JwtErrorCode.INVALID_TOKEN)` ë°˜í™˜.

3. **ë³´ì•ˆ íš¨ê³¼**
   - íƒˆì·¨ëœ refreshToken ì¬ì‚¬ìš© ì‹œë„ â†’ Redis ë¶ˆì¼ì¹˜ë¡œ ì¦‰ì‹œ ì°¨ë‹¨.
   - ì´ì „ í† í°ì€ ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì²˜ë¦¬í•˜ì—¬ ì¼íšŒì„± ë³´ì¥.

> Rotation ì´ ë¶€ë‹´ìŠ¤ëŸ½ë‹¤ë©´ ìƒˆ refreshToken ë°œê¸‰Â·ì €ì¥ì„ ìƒëµí•˜ê³  ê¸°ì¡´ ê°’ì„ ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ëŠ” **Reuse ì „ëµ**ìœ¼ë¡œ í•œ ì¤„ë§Œ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤.

## ğŸ’» ì„¤ì¹˜ ë° ì‹¤í–‰

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Node.js 18+
- Java 17
- Docker & Docker Compose
- Python 3.8+ (AI ì„œë²„ìš©)

### 1. í”„ë¡œì íŠ¸ í´ë¡ 
```bash
git clone https://github.com/your-repo/fullerting.git
cd fullerting
```

### 2. Frontend ì‹¤í–‰
```bash
cd frontend
npm install
npm run dev
```

### 3. Backend ì‹¤í–‰
```bash
cd backend
./gradlew bootRun
```

### 4. AI ì„œë²„ ì‹¤í–‰
```bash
cd A.I
pip install -r requirements.txt
python manage.py runserver
```

### 5. Docker Compose ì‹¤í–‰ (ì „ì²´ ì„œë¹„ìŠ¤)
```bash
cd backend
docker-compose up -d
```

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ë³€ìˆ˜ë“¤ì„ ì„¤ì •í•˜ì„¸ìš”:

```env
# Database
DB_HOST=localhost
DB_PORT=3306
DB_NAME=fullerting
DB_USERNAME=root
DB_PASSWORD=password

# JWT
JWT_SECRET=your-jwt-secret
JWT_EXPIRATION=86400000

# Kakao OAuth
KAKAO_CLIENT_ID=your-kakao-client-id
KAKAO_CLIENT_SECRET=your-kakao-client-secret

# AWS S3
AWS_ACCESS_KEY=your-aws-access-key
AWS_SECRET_KEY=your-aws-secret-key
AWS_S3_BUCKET=your-s3-bucket

# Firebase FCM
FIREBASE_PROJECT_ID=your-firebase-project-id
```

## ğŸ“š API ë¬¸ì„œ

### Swagger UI
- **ê°œë°œ í™˜ê²½**: http://localhost:8080/swagger-ui.html
- **í”„ë¡œë•ì…˜**: https://api.fullerting.com/swagger-ui.html

### ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

#### ì¸ì¦
```
POST /api/auth/login          # ë¡œê·¸ì¸
POST /api/auth/refresh        # í† í° ê°±ì‹ 
GET  /api/auth/profile        # í”„ë¡œí•„ ì¡°íšŒ
```

#### ì‘ë¬¼ ê±°ë˜
```
GET    /api/trade/posts       # ê±°ë˜ ê²Œì‹œê¸€ ëª©ë¡
POST   /api/trade/posts       # ê±°ë˜ ê²Œì‹œê¸€ ìƒì„±
GET    /api/trade/posts/{id}  # ê±°ë˜ ê²Œì‹œê¸€ ìƒì„¸
POST   /api/trade/proposals   # ê±°ë˜ ì œì•ˆ
```

#### ì‘ë¬¼ ì¼ì§€
```
GET    /api/diary/crops       # ì‘ë¬¼ ëª©ë¡
POST   /api/diary/crops       # ì‘ë¬¼ ìƒì„±
PUT    /api/diary/crops/{id}  # ì‘ë¬¼ ìˆ˜ì •
POST   /api/diary/recognize   # AI ì‘ë¬¼ ì¸ì‹
```

#### ì»¤ë®¤ë‹ˆí‹°
```
GET    /api/community/posts   # ê²Œì‹œê¸€ ëª©ë¡
POST   /api/community/posts   # ê²Œì‹œê¸€ ì‘ì„±
GET    /api/community/posts/{id} # ê²Œì‹œê¸€ ìƒì„¸
POST   /api/community/comments # ëŒ“ê¸€ ì‘ì„±
```

## ğŸ‘¥ íŒ€ì› ì†Œê°œ

| ì´ë¦„ | ì—­í•  | ë‹´ë‹¹ ì˜ì—­ | ê¸°ìˆ  ìŠ¤íƒ |
|------|------|-----------|-----------|
| **ê¹€ì§„ëª…** (íŒ€ì¥) | Backend | íšŒì›, ë§ˆì´í˜ì´ì§€, ì•Œë¦¼ | Spring Boot, Spring Security, JWT |
| **ë¬¸í˜œë¦°** | Backend | ì‘ë¬¼ì¼ì§€, í…ƒë°­ì •ë³´, ì±„íŒ… | Spring WebSocket, Kafka, MongoDB |
| **ì •ì¤€ì›** | Backend, DevOps | ì‘ë¬¼ê±°ë˜, ì»¤ë®¤ë‹ˆí‹°, CI/CD | Spring Boot, Docker, Jenkins |
| **ê¹€ë‚˜ì—°** | Frontend | íšŒì›, ì‘ë¬¼ì¼ì§€, í…ƒë°­ì •ë³´ | React, TypeScript, Kakao Maps |
| **ì‹¬ìš°ì„** | Frontend | ë©”ì¸í˜ì´ì§€, ë§ˆì´í˜ì´ì§€, ì»¤ë®¤ë‹ˆí‹° | React, Styled Components, Jotai |
| **ì˜¤ì •ë¯¼** | Frontend | ì‘ë¬¼ê±°ë˜, ì±„íŒ… | React, WebSocket, TanStack Query |

## ğŸ›  í˜‘ì—… ë„êµ¬

### ê°œë°œ ë„êµ¬
- **ë²„ì „ ê´€ë¦¬**: GitLab
- **ì´ìŠˆ ê´€ë¦¬**: Jira
- **ë¬¸ì„œ ê´€ë¦¬**: Notion
- **API í…ŒìŠ¤íŠ¸**: Postman

### ë¬¸ì„œ ë§í¬
- [ğŸ“‹ í™”ë©´êµ¬ì„±ë„](https://www.figma.com/file/Sknk6qQVE8fAiR5nOFvxza/%ED%92%80%EB%9F%AC%ED%8C%85?type=design&node-id=127-5825&mode=design&t=MnKBPQRoEeXjfoAR-0)
- [ğŸ“„ í˜ì´ì§€ ëª…ì„¸ì„œ](https://www.notion.so/e6dd58e2958e4d87a058ba5411bdc34b?v=490bc367fa934dd6b4d8f99816e66ba6)
- [ğŸ§© ì»´í¬ë„ŒíŠ¸ ëª…ì„¸ì„œ](https://www.notion.so/a1d316ad22c14e8d8615d9fd25b97608?v=a9f05331c88348239700d19d218dfb57)
- [ğŸ—„ï¸ ERD](https://www.notion.so/ERD-dc7ce2874a2b4465b541f5cb0ce26b56?v=9deef6569fdd47b98a22de3c9d91ca21)

## ğŸ›  ë°±ì—”ë“œ ì„¤ì •

### Redis ì„¤ì •

#### ì˜ì¡´ì„± ì¶”ê°€ (pom.xml)
```xml
<dependency>
    <groupId>com.fasterxml.jackson.datatype</groupId>
    <artifactId>jackson-datatype-jsr310</artifactId>
</dependency>
```

#### RedisConfig.java
```java
@Configuration
public class RedisConfig {

    @Bean
    public RedisTemplate<String, Object> redisTemplate(RedisConnectionFactory connectionFactory) {
        RedisTemplate<String, Object> template = new RedisTemplate<>();
        template.setConnectionFactory(connectionFactory);

        // ë¬¸ìì—´ ì§ë ¬í™”
        StringRedisSerializer stringSerializer = new StringRedisSerializer();
        
        // JSON ì§ë ¬í™” (Jackson) - Java 8 ë‚ ì§œ/ì‹œê°„ ëª¨ë“ˆ ë“±ë¡
        ObjectMapper objectMapper = new ObjectMapper();
        objectMapper.registerModule(new JavaTimeModule());
        objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);
        
        GenericJackson2JsonRedisSerializer jsonSerializer = 
            new GenericJackson2JsonRedisSerializer(objectMapper);

        template.setKeySerializer(stringSerializer);
        template.setHashKeySerializer(stringSerializer);
        template.setValueSerializer(jsonSerializer);
        template.setHashValueSerializer(jsonSerializer);

        template.afterPropertiesSet();
        return template;
    }
}
```

#### Redis ë°ì´í„° êµ¬ì¡°
- `auction:{articleId}`: ê²½ë§¤ ìƒíƒœ ì •ë³´ (Hash)
  - `bidLogId`: ë§ˆì§€ë§‰ ì…ì°° ID
  - `topBidderId`: ìµœê³  ì…ì°°ì ID
  - `currentPrice`: í˜„ì¬ ìµœê³ ê°€

- `auction:{articleId}:logs`: ì…ì°° ë‚´ì—­ (List)
  - ìµœëŒ€ 50ê°œ í•­ëª© ìœ ì§€
  - 1ì‹œê°„ TTL ì„¤ì •

#### Redis CLI ëª…ë ¹ì–´ ì˜ˆì‹œ
```bash
# ëª¨ë“  ê²½ë§¤ í‚¤ ì¡°íšŒ
KEYS auction:*

# íŠ¹ì • ê²½ë§¤ì˜ ìƒíƒœ ì¡°íšŒ
HGETALL auction:3

# ì…ì°° ë‚´ì—­ ì¡°íšŒ
LRANGE auction:3:logs 0 -1